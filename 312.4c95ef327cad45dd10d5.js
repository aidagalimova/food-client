"use strict";(self.webpackChunkfood_recipes=self.webpackChunkfood_recipes||[]).push([[312],{823:(e,t,n)=>{n.d(t,{T:()=>g});var r=n(3029),i=n(2901),s=n(4467),o=n(7813);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a="savedIngredients";const l=new(function(){return(0,i.A)((function e(){(0,r.A)(this,e),(0,s.A)(this,"savedIngredients",o.sH.object({})),(0,o.Gn)(this,{savedIngredients:o.sH,ingredientsRecipesIds:o.EW,ingredientsByRecipeId:o.XI.bound,handleIngredientToggle:o.XI.bound,hasIngredient:o.XI.bound,addAllRecipeIngredients:o.XI.bound,removeAllRecipeIngredients:o.XI.bound}),this.loadFromStorage()}),[{key:"loadFromStorage",value:function(){var e=localStorage.getItem(a);if(e){var t=JSON.parse(e);this.savedIngredients=t}}},{key:"saveToStorage",value:function(){var e=Object.fromEntries(Object.entries(this.savedIngredients));localStorage.setItem(a,JSON.stringify(e))}},{key:"ingredientsRecipesIds",get:function(){return Object.keys(this.savedIngredients)}},{key:"ingredientsByRecipeId",value:function(e){return Object.values(this.savedIngredients[e]||{})}},{key:"hasIngredient",value:function(e,t){var n=this.savedIngredients[t];return!(!n||!n[e])}},{key:"handleIngredientToggle",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,o.h5)((function(){if(!n.savedIngredients[t]){var i=d(d({},e),{},{amount:e.amount*r});return n.savedIngredients[t]=(0,s.A)({},e.id,i),void n.saveToStorage()}var o=d({},n.savedIngredients);if(o[t][e.id])delete o[t][e.id],Object.keys(o[t]).length||delete o[t];else{var c=d(d({},e),{},{amount:e.amount*r});o[t][e.id]=c}n.savedIngredients=o,n.saveToStorage()}))}},{key:"addAllRecipeIngredients",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,o.h5)((function(){var i=e.reduce((function(e,t){var n=d(d({},t),{},{amount:t.amount*r});return d(d({},e),{},(0,s.A)({},t.id,n))}),{});n.savedIngredients=d(d({},n.savedIngredients),{},(0,s.A)({},t,i)),n.saveToStorage()}))}},{key:"removeAllRecipeIngredients",value:function(e){var t=this;(0,o.h5)((function(){delete t.savedIngredients[e],t.saveToStorage()}))}}])}());var g=function(){var e=l.savedIngredients,t=l.handleIngredientToggle;return{savedIngredients:e,hasIngredient:l.hasIngredient,handleIngredientToggle:t,addAllRecipeIngredients:l.addAllRecipeIngredients,removeAllRecipeIngredients:l.removeAllRecipeIngredients,ingredientsRecipesIds:l.ingredientsRecipesIds,ingredientsByRecipeId:l.ingredientsByRecipeId}}},5104:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(4467),i=n(3986),s=n(8680),o=n(4848),c=["width","height","className"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,d=void 0===r?24:r,l=e.className,g=(0,i.A)(e,c);return(0,o.jsx)(s.A,a(a({},g),{},{width:n,height:d,className:l,children:(0,o.jsx)("path",{d:"M19 12.998H5V10.998H19V12.998Z",fill:"currentColor"})}))}},6584:(e,t,n)=>{n.d(t,{V:()=>l});var r=n(4467),i=n(3986),s=n(8680),o=n(4848),c=["width","height","className"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,d=void 0===r?24:r,l=e.className,g=(0,i.A)(e,c);return(0,o.jsxs)(s.A,a(a({},g),{},{width:n,height:d,className:l,children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_512_2048)",children:[(0,o.jsx)("path",{d:"M23.1605 17.0805C23.0466 14.2707 21.8991 11.6454 19.8988 9.64512C18.5148 8.26109 16.8316 7.28501 14.995 6.77716C14.8783 5.22639 13.5801 4 12 4C10.4199 4 9.12175 5.22635 9.00503 6.77716C7.16847 7.28501 5.48523 8.26109 4.10124 9.64512C2.10094 11.6453 0.953486 14.2707 0.839533 17.0805C0.364126 17.1591 0 17.5719 0 18.0692V18.7795C0 19.3327 0.450142 19.7829 1.00336 19.7829H22.9966C23.5499 19.7829 24 19.3327 24 18.7795V18.0692C24 17.5719 23.6359 17.1591 23.1605 17.0805ZM12 4.9562C12.9736 4.9562 13.79 5.63913 13.997 6.55085C13.3445 6.43371 12.6769 6.37329 12 6.37329C11.3231 6.37329 10.6555 6.43371 10.003 6.55085C10.21 5.63913 11.0265 4.9562 12 4.9562ZM12 7.32949C17.4721 7.32949 21.953 11.6546 22.2034 17.0659H1.79663C2.04704 11.6546 6.52792 7.32949 12 7.32949ZM23.0439 18.7795C23.0439 18.8055 23.0227 18.8267 22.9967 18.8267H1.00336C0.977346 18.8267 0.956158 18.8055 0.956158 18.7795V18.0692C0.956158 18.0432 0.977346 18.022 1.00336 18.022H22.9967C23.0227 18.022 23.0439 18.0432 23.0439 18.0692V18.7795Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M21.4198 15.8536C21.1562 14.4656 20.5736 13.1279 19.735 11.9851C19.5787 11.7722 19.2795 11.7263 19.0666 11.8825C18.8537 12.0387 18.8078 12.3379 18.964 12.5508C19.7297 13.5941 20.2399 14.7654 20.4804 16.0319C20.5239 16.2612 20.7245 16.4209 20.9495 16.4209C20.9791 16.4209 21.0091 16.4181 21.0392 16.4123C21.2988 16.3632 21.4691 16.1129 21.4198 15.8536Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M18.7107 10.8038C18.6075 10.7026 18.5004 10.6023 18.3924 10.5057C18.1958 10.3297 17.8934 10.3463 17.7174 10.543C17.5412 10.7398 17.5579 11.042 17.7547 11.2181C17.852 11.3052 17.9485 11.3956 18.0413 11.4867C18.1344 11.5779 18.2552 11.6233 18.3759 11.6233C18.4999 11.6233 18.6238 11.5754 18.7174 11.4799C18.9023 11.2913 18.8993 10.9886 18.7107 10.8038Z",fill:"currentColor"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_512_2048",children:(0,o.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]}))}},8084:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r=n(3443),i=n(7481),s=n(6584),o=n(8680),c=n(5104),d=n(2244),a=n(3499),l=n(2572),g=n(7809),u=n(823),h=n(3166);var p=n(4848),v=(0,r.PA)((function(){var e=(0,u.T)(),t=e.ingredientsByRecipeId,n=e.handleIngredientToggle,r=e.ingredientsRecipesIds,s=(0,h.Z)(r),o=s.recipesByIds,c=s.isLoading,d=s.error;return c?(0,p.jsx)(l.A,{}):d?(0,p.jsx)(g.A,{error:d}):(0,p.jsxs)("div",{className:"VKv0Vn0x",children:[(0,p.jsx)(i.Ay,{view:i.ZF.P_20,weight:i.uL.SEMIBOLD,tag:i.Wh.H1,children:"Shopping List"}),0===r.length&&(0,p.jsx)(i.Ay,{view:i.ZF.P_16,weight:i.uL.NORMAL,children:"You don't have any saved ingredients in your shopping list yet"}),(0,p.jsx)("ul",{className:"amrPRpat",children:r.map((function(e){return(0,p.jsx)(f,{ingredients:t(e),onIngredientToggle:n,recipe:o.get(e)},e)}))})]})})),f=(0,r.PA)((function(e){var t=e.ingredients,n=e.recipe,r=e.onIngredientToggle;return n?(0,p.jsxs)("li",{className:"AUHbY4tL",children:[(0,p.jsx)(a.A,{to:"/recipes/".concat(n.documentId),name:n.name}),(0,p.jsx)("ul",{className:"JYku6t2V",children:t.map((function(e){return(0,p.jsxs)("li",{className:"NE0ihxQp",children:[(0,p.jsxs)("div",{className:"wvmQ4yQO",children:[(0,p.jsx)(s.V,{color:o.L.ACCENT}),(0,p.jsxs)(i.Ay,{view:i.ZF.P_16,weight:i.uL.NORMAL,children:[e.amount," ",e.unit," ",e.name]})]}),(0,p.jsx)(d.h,{onClick:function(){return r(e,n.documentId)},children:(0,p.jsx)(c.A,{})})]},e.id)}))})]}):null}));const j=v}}]);