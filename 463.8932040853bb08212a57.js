"use strict";(self.webpackChunkfood_recipes=self.webpackChunkfood_recipes||[]).push([[463],{2244:(e,t,r)=>{r.d(t,{A:()=>l,h:()=>d});var i=r(4467),n=r(3986),a=r(4164),s=r(7822),o=r(7481);var c=r(4848),u=["loading","children","className","variant"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e){return e.PRIMARY="primary",e.SECONDARY="secondary",e}({});const d=function(e){var t=e.loading,r=e.children,g=e.className,d=e.variant,h=void 0===d?l.PRIMARY:d,f=(0,n.A)(e,u);return(0,c.jsxs)("button",p(p({},f),{},{disabled:t||f.disabled,className:(0,a.A)("SSdiK8bu",g,(0,i.A)((0,i.A)({},"ERGcydti",t),"sMAVat1J",h===l.SECONDARY)),children:[t&&(0,c.jsx)(s.A,{size:s.P.Small,className:"hzsLh0Lo"}),(0,c.jsx)(o.Ay,{view:o.ZF.BUTTON,className:"Kg7tE2QV",children:r})]}))}},3166:(e,t,r)=>{r.d(t,{Z:()=>f});var i=r(6540),n=r(4398),a=r(467),s=r(3029),o=r(2901),c=r(4467),u=r(4756),g=r.n(u),p=r(3110),l=r(7813),d=r(6939);const h=new(function(){return(0,o.A)((function e(){(0,s.A)(this,e),(0,c.A)(this,"recipes",[]),(0,c.A)(this,"recipesByIds",new Map),(0,c.A)(this,"isLoading",!1),(0,c.A)(this,"error",null),(0,l.Gn)(this,{recipes:l.sH.ref,recipesByIds:l.sH.ref,isLoading:l.sH,error:l.sH.ref,fetchRecipes:l.XI.bound,fetchRecipesByIds:l.XI.bound})}),[{key:"fetchRecipes",value:(t=(0,a.A)(g().mark((function e(){var t,r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,l.h5)((function(){r.isLoading=!0,r.error=null})),e.prev=1,e.next=4,d.A.getRecipes({searchText:n.H6.searchText,categoryIds:n.H6.selectedCategoryIds,page:n.H6.page,pageSize:n.H6.pageSize,rating:n.H6.rating,totalTime:n.H6.totalTime,cookingTime:n.H6.cookingTime,preparationTime:n.H6.preparationTime,vegetarian:n.H6.vegetarian});case 4:t=e.sent,(0,l.h5)((function(){r.recipes=t.data,r.isLoading=!1,n.H6.setPaginationInfo(t.meta.pagination)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(0,l.h5)((function(){var t;r.error=e.t0 instanceof p.pe&&(null===(t=e.t0.response)||void 0===t?void 0:t.data.error),r.isLoading=!1}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"fetchRecipesByIds",value:(e=(0,a.A)(g().mark((function e(t){var r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,l.h5)((function(){r.isLoading=!0,r.error=null})),e.prev=1,e.next=4,Promise.all(t.map(function(){var e=(0,a.A)(g().mark((function e(t){var i,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.recipesByIds.has(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d.A.getRecipeById(t,[]);case 4:i=e.sent,n=i.data,(0,l.h5)((function(){r.recipesByIds.set(n.documentId,n)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:(0,l.h5)((function(){r.isLoading=!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),(0,l.h5)((function(){var t;r.error=e.t0 instanceof p.pe&&(null===(t=e.t0.response)||void 0===t?void 0:t.data.error),r.isLoading=!1}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),function(t){return e.apply(this,arguments)})}]);var e,t}());var f=function(e){var t=h.recipes,r=h.recipesByIds,a=h.isLoading,s=h.error,o=h.fetchRecipes,c=h.fetchRecipesByIds,u=(0,n.LB)(),g=u.searchText,p=u.selectedCategoryIdsStr,l=u.page,d=u.rating,f=u.totalTime,m=u.cookingTime,v=u.preparationTime,y=u.vegetarian;return(0,i.useEffect)((function(){e&&c(e)}),[]),(0,i.useEffect)((function(){e||o()}),[g,p,l,d,f,m,v,y,e]),{recipes:t,recipesByIds:r,isLoading:a,error:s}}},4398:(e,t,r)=>{r.d(t,{XG:()=>l,h4:()=>p,H6:()=>u,LB:()=>d});var i=r(3029),n=r(2901),a=r(4467),s=r(7813),o=r(3318),c=r(1762);const u=new(function(){return(0,n.A)((function e(){var t=this;(0,i.A)(this,e),(0,a.A)(this,"searchText",""),(0,a.A)(this,"selectedCategoryIds",[]),(0,a.A)(this,"rating",null),(0,a.A)(this,"vegetarian",!1),(0,a.A)(this,"totalTime",null),(0,a.A)(this,"cookingTime",null),(0,a.A)(this,"preparationTime",null),(0,a.A)(this,"pageSize",9),(0,a.A)(this,"page",1),(0,a.A)(this,"pageCount",1),(0,a.A)(this,"total",1),(0,a.A)(this,"disposers",[]),(0,s.Gn)(this,{searchText:s.sH,selectedCategoryIds:s.sH.ref,rating:s.sH,vegetarian:s.sH,totalTime:s.sH,cookingTime:s.sH,preparationTime:s.sH,page:s.sH,pageCount:s.sH,setPaginationInfo:s.XI.bound,setSearchText:s.XI.bound,setSelectedCategories:s.XI.bound,setRating:s.XI.bound,setTotalTime:s.XI.bound,setCookingTime:s.XI.bound,setPreparationTime:s.XI.bound,setVegetarian:s.XI.bound,setPage:s.XI.bound,syncWithUrl:s.XI.bound,setAdditionalFilters:s.XI.bound,destroy:s.XI.bound,selectedCategoryIdsStr:s.EW}),this.disposers.push((0,s.mJ)((function(){return t.page}),(function(e){o.A.query.setParam(c.rv.Page,e.toString())}))),this.disposers.push((0,s.mJ)((function(){return t.searchText}),(function(e){o.A.query.setParam(c.rv.Search,e)}))),this.disposers.push((0,s.mJ)((function(){return t.selectedCategoryIds}),(function(e){o.A.query.setParam(c.rv.CategoryIds,e.join(","))}))),this.disposers.push((0,s.mJ)((function(){return t.rating}),(function(e){o.A.query.setParam(c.rv.Rating,null==e?void 0:e.toString())}))),this.disposers.push((0,s.mJ)((function(){return t.totalTime}),(function(e){o.A.query.setParam(c.rv.TotalTime,null==e?void 0:e.toString())}))),this.disposers.push((0,s.mJ)((function(){return t.cookingTime}),(function(e){o.A.query.setParam(c.rv.CookingTime,null==e?void 0:e.toString())}))),this.disposers.push((0,s.mJ)((function(){return t.preparationTime}),(function(e){o.A.query.setParam(c.rv.PreparationTime,null==e?void 0:e.toString())}))),this.disposers.push((0,s.mJ)((function(){return t.vegetarian}),(function(e){o.A.query.setParam(c.rv.Vegetarian,e?"true":"")})))}),[{key:"destroy",value:function(){this.disposers.forEach((function(e){return e()})),this.disposers=[]}},{key:"setSearchText",value:function(e){this.searchText=e,this.resetPage()}},{key:"setSelectedCategories",value:function(e){this.selectedCategoryIds=e,this.resetPage()}},{key:"setRating",value:function(e){this.rating=e,this.resetPage()}},{key:"setTotalTime",value:function(e){this.totalTime=e,this.resetPage()}},{key:"setCookingTime",value:function(e){this.cookingTime=e,this.resetPage()}},{key:"setPreparationTime",value:function(e){this.preparationTime=e,this.resetPage()}},{key:"setVegetarian",value:function(e){this.vegetarian=e,this.resetPage()}},{key:"setPage",value:function(e){this.page=e}},{key:"resetPage",value:function(){this.setPage(1)}},{key:"setPaginationInfo",value:function(e){this.pageCount=e.pageCount,this.total=e.total,this.pageSize=e.pageSize,this.pageCount=e.pageCount}},{key:"setAdditionalFilters",value:function(e){this.setRating(e.rating),this.setTotalTime(e.totalTime),this.setCookingTime(e.cookingTime),this.setPreparationTime(e.preparationTime),this.setVegetarian(e.vegetarian)}},{key:"syncWithUrl",value:function(){var e,t;this.page=Number(o.A.query.getParam(c.rv.Page))||1,this.searchText=(null===(e=o.A.query.getParam(c.rv.Search))||void 0===e?void 0:e.toString())||"",this.selectedCategoryIds=(null===(t=o.A.query.getParam(c.rv.CategoryIds))||void 0===t?void 0:t.toString().split(","))||[],this.rating=Number(o.A.query.getParam(c.rv.Rating))||null,this.totalTime=Number(o.A.query.getParam(c.rv.TotalTime))||null,this.cookingTime=Number(o.A.query.getParam(c.rv.CookingTime))||null,this.preparationTime=Number(o.A.query.getParam(c.rv.PreparationTime))||null,this.vegetarian=!!o.A.query.getParam(c.rv.Vegetarian)}},{key:"selectedCategoryIdsStr",get:function(){return this.selectedCategoryIds.join(",")}}])}());var g=r(6540),p=0,l=5,d=function(){var e=u.searchText,t=u.selectedCategoryIds,r=u.selectedCategoryIdsStr,i=u.rating,n=u.vegetarian,a=u.totalTime,s=u.cookingTime,o=u.preparationTime,c=u.page,p=u.pageCount,l=u.setSearchText,d=u.setSelectedCategories,h=u.setRating,f=u.setAdditionalFilters,m=u.setPage,v=u.syncWithUrl;return(0,g.useEffect)((function(){v()}),[]),{searchText:e,selectedCategoryIds:t,selectedCategoryIdsStr:r,rating:i,vegetarian:n,totalTime:a,cookingTime:s,preparationTime:o,page:c,pageCount:p,setSearchText:l,setSelectedCategories:d,setRating:h,setAdditionalFilters:f,setPage:m}}},6939:(e,t,r)=>{r.d(t,{A:()=>l});var i,n,a=r(4467),s=r(467),o=r(4756),c=r.n(o),u=r(3244);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const l={getRecipes:(n=(0,s.A)(c().mark((function e(){var t,r,i,n,a,s,o,g,l,d,h,f,m,v,y,T,A,P,b=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t=b.length>0&&void 0!==b[0]?b[0]:{}).searchText,i=t.categoryIds,n=t.page,a=void 0===n?1:n,s=t.pageSize,o=void 0===s?9:s,g=t.rating,l=void 0===g?null:g,d=t.totalTime,h=void 0===d?null:d,f=t.cookingTime,m=void 0===f?null:f,v=t.preparationTime,y=void 0===v?null:v,T=t.vegetarian,A=void 0===T?null:T,e.next=3,u.Z.get("recipes",{params:{populate:["images","ingradients"],pagination:{page:a,pageSize:o},filters:p(p(p(p(p({name:{$containsi:r},category:{id:{$in:i}}},l&&{rating:{$gte:l}}),h&&{totalTime:{$lte:h}}),m&&{cookingTime:{$lte:m}}),y&&{preparationTime:{$lte:y}}),A&&{vegetarian:{$eq:A}})}});case 3:return P=e.sent,e.abrupt("return",P.data);case 5:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),getRecipeById:(i=(0,s.A)(c().mark((function e(t){var r,i,n=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:["ingradients","equipments","directions.image","images","category"],e.next=3,u.Z.get("recipes/".concat(t),{params:{populate:r}});case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})}},7809:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(7481),n=r(4976);var a=r(4848);const s=function(e){var t=e.error,r=e.link,s=e.linkText;return(0,a.jsxs)("div",{className:"e7J4w9C6",children:[(0,a.jsx)(i.Ay,{view:i.ZF.TITLE,weight:i.uL.BOLD,tag:i.Wh.H1,children:"Error"}),(0,a.jsxs)(i.Ay,{view:i.ZF.P_20,tag:i.Wh.P,children:[t.status," ",t.message]}),r&&(0,a.jsx)(n.N_,{to:r,className:"RzZcgOiS",children:(0,a.jsx)(i.Ay,{view:i.ZF.P_16,color:i.r7.PRIMARY,children:s})})]})}}}]);